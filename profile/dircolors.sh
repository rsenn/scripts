set_ls_colors() {
    NCOLORS=$(tput colors)

    if [ "${NCOLORS:-16}" -ge 256 ]; then
      LS_COLORS="rs=0:di=01;38;5;27:ln=01;36:mh=00:pi=38;5;226:so=038;5;200:do=038;5;200:bd=38;5;226:cd=38;5;226:or=01;05;37:mi=01;05;37:su=37:sg=30:ca=30:tw=30:ow=34:st=37:ex=038;5;226:*.tar=038;5;197:*.tgz=038;5;197:*.arc=038;5;197:*.arj=038;5;197:*.taz=038;5;197:*.lha=038;5;197:*.lz4=038;5;197:*.lzh=038;5;197:*.lzma=038;5;197:*.tlz=038;5;197:*.txz=038;5;197:*.tzo=038;5;197:*.t7z=038;5;197:*.zip=038;5;197:*.z=038;5;197:*.Z=038;5;197:*.dz=038;5;197:*.gz=038;5;197:*.lrz=038;5;197:*.lz=038;5;197:*.lzo=038;5;197:*.xz=038;5;197:*.bz2=038;5;197:*.bz=038;5;197:*.tbz=038;5;197:*.tbz2=038;5;197:*.tz=038;5;197:*.deb=038;5;197:*.rpm=038;5;197:*.jar=038;5;197:*.war=038;5;197:*.ear=038;5;197:*.sar=038;5;197:*.rar=038;5;197:*.alz=038;5;197:*.ace=038;5;197:*.zoo=038;5;197:*.cpio=038;5;197:*.7z=038;5;197:*.rz=038;5;197:*.cab=038;5;197:*.jpg=038;5;200:*.jpeg=038;5;200:*.gif=038;5;200:*.bmp=038;5;200:*.pbm=038;5;200:*.pgm=038;5;200:*.ppm=038;5;200:*.tga=038;5;200:*.xbm=038;5;200:*.xpm=038;5;200:*.tif=038;5;200:*.tiff=038;5;200:*.png=038;5;200:*.svg=038;5;200:*.svgz=038;5;200:*.mng=038;5;200:*.pcx=038;5;200:*.mov=038;5;200:*.mpg=038;5;200:*.mpeg=038;5;200:*.m2v=038;5;200:*.mkv=038;5;200:*.webm=038;5;200:*.ogm=038;5;200:*.mp4=038;5;200:*.m4v=038;5;200:*.mp4v=038;5;200:*.vob=038;5;200:*.qt=038;5;200:*.nuv=038;5;200:*.wmv=038;5;200:*.asf=038;5;200:*.rm=038;5;200:*.rmvb=038;5;200:*.flc=038;5;200:*.avi=038;5;200:*.fli=038;5;200:*.flv=038;5;200:*.gl=038;5;200:*.dl=038;5;200:*.xcf=038;5;200:*.xwd=038;5;200:*.yuv=038;5;200:*.cgm=038;5;200:*.emf=038;5;200:*.axv=038;5;200:*.anx=038;5;200:*.ogv=038;5;200:*.ogx=038;5;200:*.pdf=38;5;34:*.ps=38;5;34:*.txt=38;5;208:*.patch=38;5;34:*.diff=38;5;34:*.log=38;5;34:*.tex=38;5;34:*.doc=38;5;34:*.aac=38;5;75:*.au=38;5;75:*.flac=38;5;75:*.m4a=38;5;75:*.mid=38;5;75:*.midi=38;5;75:*.mka=38;5;75:*.mp3=38;5;75:*.mpc=38;5;75:*.ogg=38;5;75:*.ra=38;5;75:*.wav=38;5;75:*.axa=38;5;75:*.oga=38;5;75:*.spx=38;5;75:*.xspf=38;5;75"
    else
        LS_COLORS='rs=0:di=38;5;21:ln=38;5;214:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lh=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:' 
    fi
    export LS_COLORS
}

set_ls_colors

alias ls='ls --color=auto'
